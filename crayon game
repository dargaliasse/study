import random

player_name = ["John", "Jack"]
player = player_name[0]
bot = player_name[1]

def set_the_game():
    ready_status = False
    while not ready_status:
        try:
            number_of_pencil = int(input("How many pencils would you like to use:"))
        except ValueError:
            print("The number of pencils should be numeric")
            continue
        if number_of_pencil <= 0:
            print("The number of pencils should be positive")
        else:
            ready_status = True
    return number_of_pencil

def who_play_first():
    good_name = False
    while not good_name:
        first_player = input(f'Who will be the first (John, Jack):')
        if first_player not in player_name:
            print("Choose between John and Jack")
        else:
            good_name = True
    return first_player

def bot_move(pencils):
    r = (pencils - 1) % 4
    if r == 0:
        return 1
    return r

def play_time():
    number_of_pencils = set_the_game()
    current_player = who_play_first()

    while number_of_pencils > 0:
        print("|" * number_of_pencils)

        if current_player == bot:
            print("Jack's turn:")
            take = bot_move(number_of_pencils)
            print(take)
        else:
            print("John's turn!")
            while True:
                move = input()
                if move not in ("1", "2", "3"):
                    print("Possible values: '1', '2', '3'")
                    continue
                take = int(move)
                if take > number_of_pencils:
                    print("Too many pencils were taken")
                    continue
                break

        number_of_pencils -= take

        if number_of_pencils == 0:
            winner = "John" if current_player == "Jack" else "Jack"
            print(f"{winner} won!")
            return

        current_player = bot if current_player == player else player

if __name__ == "__main__":
    play_time()
